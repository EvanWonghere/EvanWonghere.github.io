<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="è¿™æ˜¯å½“å¹´åœ¨å®éªŒå®¤ç»™æ–°ç”ŸåŸ¹è®­çš„è¯¾ä»¶ï¼Œä¹Ÿé¡ºä¾¿æ¬è¿‡æ¥äº†ã€‚åšäº†ç‚¹å¾®å°ä¿®è®¢ï¼Œä¹Ÿæ‡’å¾—å…¨éƒ¨æ›´æ–°äº†ã€‚å½“å¹´ä¸ºäº†ç»™æ–°ç”Ÿä¸Šå‹åŠ›ï¼Œä½¿ç”¨äº†å…¨è‹±æ–‡çš„è¯¾ä»¶ã€‚"><title>å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬äºŒç« ç¬¬ä¸‰èŠ‚</title><link rel=canonical href=https://yufenghuang.tech/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%AC%E4%B8%89%E8%8A%82/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬äºŒç« ç¬¬ä¸‰èŠ‚"><meta property='og:description' content="è¿™æ˜¯å½“å¹´åœ¨å®éªŒå®¤ç»™æ–°ç”ŸåŸ¹è®­çš„è¯¾ä»¶ï¼Œä¹Ÿé¡ºä¾¿æ¬è¿‡æ¥äº†ã€‚åšäº†ç‚¹å¾®å°ä¿®è®¢ï¼Œä¹Ÿæ‡’å¾—å…¨éƒ¨æ›´æ–°äº†ã€‚å½“å¹´ä¸ºäº†ç»™æ–°ç”Ÿä¸Šå‹åŠ›ï¼Œä½¿ç”¨äº†å…¨è‹±æ–‡çš„è¯¾ä»¶ã€‚"><meta property='og:url' content='https://yufenghuang.tech/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%AC%E4%B8%89%E8%8A%82/'><meta property='og:site_name' content='èœ‚çª'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='C++'><meta property='article:tag' content='LearningNote'><meta property='article:tag' content='å­¦ä¹ ç¬”è®°'><meta property='article:published_time' content='2023-10-27T00:00:00+00:00'><meta property='article:modified_time' content='2023-10-27T00:00:00+00:00'><meta name=twitter:title content="å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬äºŒç« ç¬¬ä¸‰èŠ‚"><meta name=twitter:description content="è¿™æ˜¯å½“å¹´åœ¨å®éªŒå®¤ç»™æ–°ç”ŸåŸ¹è®­çš„è¯¾ä»¶ï¼Œä¹Ÿé¡ºä¾¿æ¬è¿‡æ¥äº†ã€‚åšäº†ç‚¹å¾®å°ä¿®è®¢ï¼Œä¹Ÿæ‡’å¾—å…¨éƒ¨æ›´æ–°äº†ã€‚å½“å¹´ä¸ºäº†ç»™æ–°ç”Ÿä¸Šå‹åŠ›ï¼Œä½¿ç”¨äº†å…¨è‹±æ–‡çš„è¯¾ä»¶ã€‚"><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_789ebd951ab60789.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ</span></figure><div class=site-meta><h1 class=site-name><a href=/>èœ‚çª</a></h1><h2 class=site-description>EvanWongçš„ä¸ªäººåšå®¢</h2></div></header><ol class=menu-social><li><a href=https://github.com/EvanWonghere/EvanWonghere.github.io target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://steamcommunity.com/profiles/76561198980535015/ target=_blank title=Steam rel=me><svg role="img" viewBox="0 0 24 24"><title>Steam</title><path d="M11.979.0C5.678.0.511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063.0.125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494.0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159.0 1.875-1.515 3.396-3.39 3.396-1.635.0-3.016-1.173-3.331-2.727L.436 15.27C1.862 20.307 6.486 24 11.979 24c6.627.0 11.999-5.373 11.999-12S18.605.0 11.979.0zM7.54 18.21l-1.473-.61c.262.543.714.999 1.314 1.25 1.297.539 2.793-.076 3.332-1.375.263-.63.264-1.319.005-1.949s-.75-1.121-1.377-1.383c-.624-.26-1.29-.249-1.878-.03l1.523.63c.956.4 1.409 1.5 1.009 2.455-.397.957-1.497 1.41-2.454 1.012H7.54zm11.415-9.303c0-1.662-1.353-3.015-3.015-3.015-1.665.0-3.015 1.353-3.015 3.015.0 1.665 1.35 3.015 3.015 3.015 1.663.0 3.015-1.35 3.015-3.015zm-5.273-.005c0-1.252 1.013-2.266 2.265-2.266 1.249.0 2.266 1.014 2.266 2.266.0 1.251-1.017 2.265-2.266 2.265-1.253.0-2.265-1.014-2.265-2.265z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>å…³äº</span></a></li><li><a href=/quotes/><svg fill="#000" width="800" height="800" viewBox="-6 0 32 32"><title>quote-right</title><path d="M3.44 22.8c-.32.0-.64-.2-.76-.52-.16-.44.04-.92.48-1.08 3.4-1.36 4.12-4.28 4.12-6.48.0-2.52-1.4-3.84-2.8-3.84-1.28.0-2.8.6-2.8 2.28.0.68.36 1.32.96 1.72.48.28 1.04.36 1.44.12.4-.2.92-.04 1.12.36s.04.92-.36 1.12c-.96.48-2.12.4-3.08-.2-1.12-.68-1.76-1.84-1.76-3.12.0-2.32 1.84-3.96 4.48-3.96 2.16.0 4.48 1.92 4.48 5.52.0 3.84-1.84 6.68-5.2 8.04-.08.0-.2.04-.32.04zM14 22.8c-.32.0-.64-.2-.76-.52-.16-.44.04-.92.48-1.08 3.4-1.36 4.12-4.28 4.12-6.48.0-2.52-1.4-3.84-2.8-3.84-1.28.0-2.8.6-2.8 2.28.0.68.36 1.32.96 1.72.48.28 1.04.36 1.44.12.4-.2.92-.04 1.12.36s.04.92-.36 1.12c-.96.48-2.12.4-3.08-.2-1.08-.68-1.76-1.84-1.76-3.12.0-2.32 1.84-3.96 4.48-3.96 2.16.0 4.48 1.92 4.48 5.52.0 3.84-1.84 6.68-5.2 8.04-.12.0-.24.04-.32.04z"/></svg>
<span>é‡‡æ’·é›†</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li><a href=/games/><!doctype html><svg height="800" width="800" id="_x32_" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"><style>.st0{fill:#000}</style><g><path class="st0" d="M511.27 331.566c0-.009.0-.018.0-.026-.008-.052.0-.087-.008-.14h-.009c-6.682-88.65-27.159-154.403-55.948-198.846-14.412-22.221-30.968-39.115-49.041-50.507-18.048-11.401-37.649-17.198-57.388-17.18-14.551-.009-26.985 2.629-37.527 6.611-15.836 5.97-27.358 14.795-36.364 21.319-4.495 3.28-8.373 5.961-11.549 7.592-3.211 1.658-5.475 2.239-7.436 2.239-1.328-.009-2.725-.251-4.521-.92-3.115-1.137-7.288-3.732-12.278-7.332-7.531-5.354-16.885-12.764-29.223-18.846-12.339-6.092-27.766-10.69-46.855-10.664-19.739-.018-39.34 5.787-57.388 17.18-27.115 17.119-50.794 46.481-69.008 87.887C18.542 211.332 5.743 264.92.746 331.401H.738c-.009.052.0.096-.009.14.0.008.0.017.0.026C.243 336.981.0 342.247.0 347.358c-.009 25.058 5.77 46.455 16.651 63.141 10.846 16.694 26.863 28.347 45.614 33.822 6.43 1.892 13.068 2.811 19.757 2.811 19.445-.026 39.046-7.618 57.692-20.764 18.681-13.189 36.598-32.052 52.91-55.731 7.845-11.427 18.5-24.798 29.987-34.854 5.736-5.032 11.662-9.214 17.362-12.026 5.71-2.82 11.09-4.244 16.027-4.235 4.936-.009 10.317 1.414 16.026 4.235 8.555 4.199 17.588 11.558 25.787 20.112 8.226 8.538 15.67 18.196 21.562 26.76 16.312 23.688 34.23 42.55 52.902 55.739 18.655 13.146 38.255 20.738 57.7 20.764 6.69.0 13.328-.92 19.749-2.811 18.759-5.475 34.776-17.128 45.614-33.822C506.221 393.813 512 372.416 512 347.358 512 342.256 511.757 336.981 511.27 331.566zM476.737 398.36c-8.104 12.356-19.236 20.469-33.284 24.651-4.33 1.275-8.807 1.9-13.475 1.908-13.484.026-28.902-5.414-44.894-16.703-15.974-11.254-32.312-28.225-47.418-50.177-8.564-12.417-20.044-27.012-33.64-38.95-6.812-5.97-14.169-11.297-22.16-15.245-7.975-3.94-16.677-6.534-25.866-6.534-9.189.0-17.892 2.594-25.866 6.534-11.974 5.943-22.577 14.906-31.957 24.616-9.353 9.726-17.432 20.268-23.843 29.579-15.106 21.952-31.454 38.923-47.419 50.177-15.991 11.288-31.418 16.729-44.894 16.703-4.677-.009-9.145-.633-13.484-1.908-14.04-4.182-25.172-12.295-33.284-24.651-8.06-12.364-13.04-29.293-13.04-51.002.0-4.451.208-9.111.65-13.961v-.052l.009-.113c6.429-86.17 26.446-148.582 52.451-188.59 12.989-20.026 27.41-34.447 42.256-43.801 14.872-9.353 30.126-13.744 45.544-13.761 11.896.009 21.424 2.091 29.675 5.189 12.356 4.65 21.883 11.756 31.158 18.507 4.652 3.367 9.233 6.655 14.378 9.336 5.111 2.655 11.028 4.729 17.666 4.729 4.399.0 8.556-.928 12.286-2.325 6.56-2.482 12-6.213 17.422-10.065 8.113-5.831 16.208-12.14 26.091-16.981 9.883-4.833 21.449-8.364 37.076-8.39 15.418.017 30.672 4.408 45.545 13.761 22.264 14.005 43.6 39.532 60.511 78.03 16.92 38.464 29.354 89.735 34.195 154.36v.052l.009.113c.434 4.842.652 9.502.652 13.961C489.778 369.067 484.806 386.004 476.737 398.36z"/><polygon class="st0" points="161.232,178.126 122.29,178.126 122.29,213.631 86.785,213.631 86.785,252.573 122.29,252.573 122.29,288.079 161.232,288.079 161.232,252.573 196.737,252.573 196.737,213.631 161.232,213.631"/><path class="st0" d="M368.659 167.002c-11.331.0-20.52 9.189-20.52 20.538.0 11.341 9.189 20.538 20.52 20.538 11.35.0 20.538-9.197 20.538-20.538.0-11.349-9.18900000000002-20.538-20.538-20.538z"/><path class="st0" d="M368.659 266.247c-11.331.0-20.52 9.189-20.52 20.53.0 11.349 9.189 20.538 20.52 20.538 11.35.0 20.538-9.189 20.538-20.538C389.197 275.436 380.008 266.247 368.659 266.247z"/><path class="st0" d="M418.282 216.633c-11.341.0-20.538 9.189-20.538 20.53.0 11.349 9.197 20.529 20.538 20.529 11.35.0 20.538-9.18 20.538-20.529.0-11.341-9.18900000000002-20.53-20.538-20.53z"/><path class="st0" d="M319.054 216.633c-11.349.0-20.538 9.189-20.538 20.53.0 11.349 9.189 20.529 20.538 20.529 11.341.0 20.539-9.18 20.539-20.529C339.592 225.822 330.394 216.633 319.054 216.633z"/></g></svg>
<span>æ¸¸æˆå…</span></a></li><li><a href><span>games</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://yufenghuang.tech/en/>English</option><option value=https://yufenghuang.tech/ selected>ä¸­æ–‡</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#chapter-2--dealing-with-data>Chapter 2 â€”â€” Dealing with data</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/>å­¦ä¹ ç¬”è®°</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%AC%E4%B8%89%E8%8A%82/>å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬äºŒç« ç¬¬ä¸‰èŠ‚</a></h2><h3 class=article-subtitle>è¿™æ˜¯å½“å¹´åœ¨å®éªŒå®¤ç»™æ–°ç”ŸåŸ¹è®­çš„è¯¾ä»¶ï¼Œä¹Ÿé¡ºä¾¿æ¬è¿‡æ¥äº†ã€‚åšäº†ç‚¹å¾®å°ä¿®è®¢ï¼Œä¹Ÿæ‡’å¾—å…¨éƒ¨æ›´æ–°äº†ã€‚å½“å¹´ä¸ºäº†ç»™æ–°ç”Ÿä¸Šå‹åŠ›ï¼Œä½¿ç”¨äº†å…¨è‹±æ–‡çš„è¯¾ä»¶ã€‚</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Oct 27, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 5 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><h1 id=c-basic-course>C++ Basic Course</h1><h2 id=chapter-2--dealing-with-data>Chapter 2 â€”â€” Dealing with data</h2><ul><li><p><em><strong>reference</strong></em></p><p>â€‹ C++ adds a new compound type to the languageâ€”the reference variable. Cpp reference says &ldquo;Declares a named variable as a reference, that is, an alias to an already-existing object or function.&rdquo;. Yes, you heard it right, a reference is a name that acts as an alias, or an alternative name, for a previously defined variable. Unlike the alias we walked before, in which they are type alias.</p><p>â€‹ Of what use is such an alias? Is it to help people who are embarrassed by their choice of variable names? Maybe, but the main use for a reference variable is as a formal argument to a function. If you use a reference as an argument, the function works with the original data instead of with a copy. References provide a convenient alternative to pointers for processing large structures with a function.</p><p><strong>Creating a Reference Variable</strong></p><p>â€‹ You might recall that C and C++ use the & symbol to indicate the address of a variable. C++ assigns an additional meaning to the & symbol and presses it into service for declaring references. For example, to make <code>rodents</code> an alternative name for the variable <code>rats</code>, you could do the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=n>rats</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>&amp;</span> <span class=n>rodents</span> <span class=o>=</span> <span class=n>rat</span><span class=p>;</span>	<span class=c1>// makes rodents an alias for rats
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ In this context, & is not the address operator. Instead, it serves as part of the type identifier. Just as char * in a declaration means pointer-to-char, int & means reference-to int. The <code>rats</code> and <code>rodents</code> above have the same value and the same memory. The code below illustrates the truth of this claim.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>rats</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>&amp;</span> <span class=n>rodents</span> <span class=o>=</span> <span class=n>rats</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;rats    = &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>rats</span>    <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span>
</span></span><span class=line><span class=cl>              <span class=o>&lt;&lt;</span> <span class=s>&#34;rodents = &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>rodents</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span>
</span></span><span class=line><span class=cl>              <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>++</span><span class=n>rodents</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;After ++rodents: &#34;</span>     <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span>
</span></span><span class=line><span class=cl>              <span class=o>&lt;&lt;</span> <span class=s>&#34;rats    = &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>rats</span>    <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span>
</span></span><span class=line><span class=cl>              <span class=o>&lt;&lt;</span> <span class=s>&#34;rodents = &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>rodents</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span>
</span></span><span class=line><span class=cl>              <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;rats address    = &#34;</span> <span class=o>&lt;&lt;</span> <span class=o>&amp;</span><span class=n>rats</span>    <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span>
</span></span><span class=line><span class=cl>              <span class=o>&lt;&lt;</span> <span class=s>&#34;rodents address = &#34;</span> <span class=o>&lt;&lt;</span> <span class=o>&amp;</span><span class=n>rodents</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ Note that the & operator in the declaration statement <em>is not</em> the address operator but declares that rodents is of type int & (that is, it is a reference to an int variable). As you can see, both rats and rodents have the same value and the same address. (The address values and display format vary from system to system.) Incrementing rodents by one affects both variables. More precisely, the rodents++ operation increments a single variable for which there are two names.</p><p>â€‹ References tend to be a bit confusing at first to C veterans coming to C++ because they are tantalizingly reminiscent of pointers, yet somehow different. For example, you can create both a reference and a pointer to refer to rats:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=n>rats</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>&amp;</span> <span class=n>rodents</span> <span class=o>=</span> <span class=n>rats</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>*</span> <span class=n>prats</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>rats</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ Then you could use the expressions rodents and *prats interchangeably with rats and use the expressions &amp;rodents and prats interchangeably with &amp;rats. From this standpoint, a reference looks a lot like a pointer in disguised notation in which the * dereferencing operator is understood implicitly. And, in fact, thatâ€™s more or less what a reference is. But there are differences besides those of notation. For one, it is necessary to initialize the reference when you declare it; you canâ€™t declare the reference and then assign it a value later the way you can with a pointer:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=n>rats</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>&amp;</span> <span class=n>rodents</span><span class=p>;</span> <span class=c1>//  error: &#39;rodents&#39; declared as reference but not initialized
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ A reference is rather like a const pointer; you have to initialize it when you create it, and when a reference pledges its allegiance to a particular variable, it sticks to its pledge.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span><span class=o>&amp;</span> <span class=n>rodents</span> <span class=o>=</span> <span class=n>rats</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ That is, in essence,a disguised notation for something like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span><span class=o>*</span> <span class=k>const</span> <span class=n>prats</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>rats</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ Here, the reference rodents plays the same role as the expression *prats.</p><p><em><strong>References as Function Parameters</strong></em></p><p>â€‹ Most often, references are used as function parameters, making a variable name in a function an alias for a variable in the calling program. This method of passing arguments is called <em>passing by reference</em>. Passing by reference allows a called function to access variables in the calling function. C++â€™s addition of the feature is a break from C, which only passes by value. Passing by value, recall results in the called function working with copies of values from the calling program.</p><p><img src=/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%AC%E4%B8%89%E8%8A%82/passing.png width=1134 height=1144 srcset="/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%AC%E4%B8%89%E8%8A%82/passing_hu_84be4081eae2d8af.png 480w, /p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%AC%E4%B8%89%E8%8A%82/passing_hu_cbcbea975f3bd5a5.png 1024w" loading=lazy alt="Passing by Value or Reference" class=gallery-image data-flex-grow=99 data-flex-basis=237px></p><p>â€‹ Looking back at the functions we initially provided, you should now have a basic understanding, but there are two points to add:</p><ol><li><p>The compiler cannot distinguish between versions of overloaded functions with parameters as regular variables and parameters as references of the same type.</p></li><li><p>When using a reference as a return value for a function, you must adhere to the following rules:</p><ul><li>You cannot return a reference to a local variable. The main reason is that local variables are destroyed after the function returns, making the returned reference a &ldquo;dangling reference,&rdquo; similar to a wild pointer, causing the program to enter an undefined state.</li><li>You cannot return a reference to memory allocated by <code>new</code> inside the function. While there is no issue of local variables being destructed, in this case, you face other awkward situations. For example, if the reference returned by the function only appears as a temporary variable and is not assigned to an actual variable, then the space it points to (allocated by <code>new</code>) cannot be released, resulting in a memory leak.</li><li>You can return a reference to a class member, but it&rsquo;s preferable to make it <code>const</code> to avoid accidentally modifying the class&rsquo;s members.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>&amp;</span> <span class=n>foo</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>)</span> <span class=p>{</span><span class=k>return</span> <span class=n>a</span><span class=p>;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=n>foo</span><span class=p>(</span><span class=n>a</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>---------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=nl>warning</span><span class=p>:</span> <span class=n>reference</span> <span class=n>to</span> <span class=n>local</span> <span class=n>variable</span> <span class=sc>&#39;a&#39;</span> <span class=n>returned</span> <span class=p>[</span><span class=o>-</span><span class=n>Wreturn</span><span class=o>-</span><span class=n>local</span><span class=o>-</span><span class=n>addr</span><span class=p>]</span>
</span></span><span class=line><span class=cl> <span class=kt>int</span><span class=o>&amp;</span> <span class=n>foo</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>)</span> <span class=p>{</span><span class=k>return</span> <span class=n>a</span><span class=p>;}</span>
</span></span><span class=line><span class=cl>          <span class=o>~~~~^</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ Regarding references, there are also more specialized topics like rvalue references, which we won&rsquo;t delve into here. If you&rsquo;re interested, you can explore this concept on your own.</p></li></ol></li><li><p><em><strong>enum</strong></em></p><p>â€‹ The C++ enum facility provides an alternative to const for creating symbolic constants. It also lets you define new types but in a fairly restricted fashion.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>enum</span> <span class=nc>Color</span> <span class=p>{</span><span class=n>RED</span><span class=p>,</span> <span class=n>ORANGE</span><span class=p>,</span> <span class=n>YELLOW</span><span class=p>,</span> <span class=n>GREEN</span><span class=p>,</span> <span class=n>BLUE</span><span class=p>,</span> <span class=n>INDIGO</span><span class=p>,</span> <span class=n>VIOLET</span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ This statement does two things:</p><ul><li><p>It makes <code>Color</code> the name of a new type; <code>Color</code> is termed an <em>enumeration</em>.</p></li><li><p>It establishes red, orange, yellow, and so on, as symbolic constants for the integer values 0â€“7. These constants are called <em>enumerators</em>.</p><p>By default, enumerators are assigned integer values starting with 0 for the first enumerator, 1 for the second enumerator, and so forth. You can override the default by explicitly assigning integer values. We&rsquo;ll talk about that later.</p><p>You can use an enumeration name to declare a variable of the enumeration type:</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>Color</span> <span class=n>cc</span><span class=p>;</span> <span class=c1>// cc a variable of type spectrum
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ An enumeration variable has some special properties, which weâ€™ll examine now. The only valid values that you can assign to an enumeration variable without a type cast are the enumerator values used in defining the type. Thus, we have the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>cc</span> <span class=o>=</span> <span class=n>blue</span><span class=p>;</span> <span class=c1>// valid, blue is an enumerator
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>cc</span> <span class=o>=</span> <span class=mi>2000</span><span class=p>;</span> <span class=c1>// invalid, 2000 not an enumerator
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ Thus,a spectrum variable is limited to just eight possible values. Some compilers issue a compiler error if you attempt to assign an invalid value, whereas others issue a warning. For maximum portability, you should regard assigning a non-enum value to an enum variable as an error.</p><p>â€‹ Only the assignment operator is defined for enumerations. In particular, arithmetic operations are not defined:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>cc</span> <span class=o>=</span> <span class=n>orange</span><span class=p>;</span> 		<span class=c1>// valid
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>++</span><span class=n>cc</span><span class=p>;</span> 				<span class=c1>// not valid
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>cc</span> <span class=o>=</span> <span class=n>orange</span> <span class=o>+</span> <span class=n>red</span><span class=p>;</span> 	<span class=c1>// not valid, but a little tricky
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ Enumerators are of integer type and can be promoted to type int, but int types are not converted automatically to the enumeration type:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=n>color</span> <span class=o>=</span> <span class=n>blue</span><span class=p>;</span> 	<span class=c1>// valid, spectrum type promoted to int
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>cc</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span> 			<span class=c1>// invalid, int not converted to spectrum
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>color</span> <span class=o>=</span> <span class=mi>3</span> <span class=o>+</span> <span class=n>red</span><span class=p>;</span>	<span class=c1>// valid, red converted to int
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ You can assign an int value to an enum, provided that the value is valid and that you use an explicit type cast:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>cc</span> <span class=o>=</span> <span class=n>spectrum</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span> <span class=c1>// typecast 3 to type spectrum
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ What if you try to type cast an inappropriate value? The result is undefined, meaning that the attempt wonâ€™t be flagged as an error but that you canâ€™t rely on the value of the result:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>cc</span> <span class=o>=</span> <span class=n>spectrum</span><span class=p>(</span><span class=mi>40003</span><span class=p>);</span> <span class=c1>// undefined
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ As you can see, the rules governing enumerations are fairly restrictive. In practice, enumerations are used more often as a way of defining related symbolic constants than as a means of defining new types.</p><p>â€‹ For example, you might use an enumeration to define symbolic constants for a switch statement. (See Chapter 6, â€œBranching Statements and Logical Operators,â€ for an example.) If you plan to use just the constants and not create variables of the enumeration type, you can omit an enumeration type name, as in this example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>enum</span> <span class=p>{</span><span class=n>RED</span><span class=p>,</span> <span class=n>ORANGE</span><span class=p>,</span> <span class=n>YELLOW</span><span class=p>,</span> <span class=n>GREEN</span><span class=p>,</span> <span class=n>BLUE</span><span class=p>,</span> <span class=n>INDIGO</span><span class=p>,</span> <span class=n>VIOLET</span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p><em><strong>Setting Enumerator Values</strong></em></p><p>â€‹ You can set enumerator values explicitly by using the assignment operator:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>enum</span> <span class=nc>bits</span><span class=p>{</span><span class=n>one</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>two</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span> <span class=n>four</span> <span class=o>=</span> <span class=mi>4</span><span class=p>,</span> <span class=n>eight</span> <span class=o>=</span> <span class=mi>8</span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ The assigned values must be integers.You also can define just some of the enumerators explicitly:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>enum</span> <span class=nc>bigstep</span><span class=p>{</span><span class=n>first</span><span class=p>,</span> <span class=n>second</span> <span class=o>=</span> <span class=mi>100</span><span class=p>,</span> <span class=n>third</span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ In this case, first is 0 by default. Subsequent uninitialized enumerators are larger by one than their predecessors. So, third would have the value 101.</p><p>â€‹ Finally, you can create more than one enumerator with the same value:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>enum</span> <span class=p>{</span><span class=n>zero</span><span class=p>,</span> <span class=n>null</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>one</span><span class=p>,</span> <span class=n>numero_uno</span> <span class=o>=</span> <span class=mi>1</span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ Here, both zero and null are 0,and both one and numero_uno are 1. In earlier versions of C++, you could assign only int values (or values that promote to int) to enumerators, but that restriction has been removed so that you can use type long or even long long values.</p><p><em><strong>Value Ranges for Enumerations</strong></em></p><p>â€‹ Originally, the only valid values for an enumeration were those named in the declaration. However, C++ has expanded the list of valid values that can be assigned to an enumeration variable through the use of a type cast. Each enumeration has a <em>range</em>,and you can assign any integer value in the range, even if itâ€™s not an enumerator value, by using a type cast to an enumeration variable.</p><p>â€‹ For example, suppose that bits and myflag are defined this way:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>enum</span> <span class=nc>bits</span><span class=p>{</span><span class=n>one</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>two</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span> <span class=n>four</span> <span class=o>=</span> <span class=mi>4</span><span class=p>,</span> <span class=n>eight</span> <span class=o>=</span> <span class=mi>8</span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>bits</span> <span class=n>myflag</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ In this case, the following is valid:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>myflag</span> <span class=o>=</span> <span class=n>bits</span><span class=p>(</span><span class=mi>6</span><span class=p>);</span> <span class=c1>// valid, because 6 is in bits range
</span></span></span></code></pre></td></tr></table></div></div><p>â€‹ Here 6 is not one of the enumerations, but it lies in the range the enumerations define.</p><p>â€‹ The range is defined as follows. First, to find the upper limit, you take the largest enumerator value. Then you find the smallest power of two greater than this largest value and subtract one; the result is the upper end of the range.</p></li><li><p><em><strong>union</strong></em></p><p>â€‹ A <em>union</em> is a data format that can hold different data types but only one type at a time. That is, whereas a structure can hold, say, an int <em>and</em> a long <em>and</em> a double, a union can hold an int <em>or</em> a long <em>or</em> a double. For example, consider the following declaration:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=k>union</span> <span class=nc>one4all</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>int_val</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>long</span> <span class=n>long_val</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>double</span> <span class=n>double_val</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ You can use a one4all variable to hold an int, a long, or a double, just as long as you do so at different times:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>one4all</span> <span class=n>pail</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>pail</span><span class=p>.</span><span class=n>int_val</span> <span class=o>=</span> <span class=mi>15</span><span class=p>;</span> 		<span class=c1>// store an int
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>pail</span><span class=p>.</span><span class=n>int_val</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>pail</span><span class=p>.</span><span class=n>double_val</span> <span class=o>=</span> <span class=mf>1.38</span><span class=p>;</span> <span class=c1>// store a double, int value is lost
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>pail</span><span class=p>.</span><span class=n>double_val</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>â€‹ Thus, pail can serve as an int variable on one occasion and as a double variable at another time. The member name identifies the capacity in which the variable is acting. Because a union holds only one value at a time, it has to have space enough to hold its largest member. Hence, the size of the union is the size of its largest member.</p><p>â€‹ One use for a union is to save space when a data item can use two or more formats but never simultaneously.</p><p>â€‹ Unions often (but not exclusively) are used to save memory space. That may not seem that necessary in these days of gigabytes of RAM and terabytes of storage, but not all C++ programs are written for such systems. C++ also is used for embedded systems, such as the processors used to control a toaster oven, an MP3 player, or a Mars rover. In these applications space may be at a premium. Also, unions often are used when working with operating systems or hardware data structures.</p></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/c++/>C++</a>
<a href=/tags/learningnote/>LearningNote</a>
<a href=/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/>å­¦ä¹ ç¬”è®°</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%AC%E4%BA%8C%E8%8A%82/><div class=article-details><h2 class=article-title>å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬äºŒç« ç¬¬äºŒèŠ‚</h2></div></a></article><article><a href=/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%AC%AC%E4%B8%80%E8%8A%82/><div class=article-details><h2 class=article-title>å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬äºŒç« ç¬¬ä¸€èŠ‚</h2></div></a></article><article><a href=/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%AC%AC%E4%B8%89%E8%8A%82/><div class=article-details><h2 class=article-title>å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬ä¸€ç« ç¬¬ä¸‰èŠ‚</h2></div></a></article><article><a href=/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%AC%AC%E4%BA%8C%E8%8A%82/><div class=article-details><h2 class=article-title>å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬ä¸€ç« ç¬¬äºŒèŠ‚</h2></div></a></article><article><a href=/p/%E5%AE%9E%E9%AA%8C%E5%AE%A4-c-%E5%9F%BA%E7%A1%80%E8%AF%BE%E7%A8%8B-%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%AC%AC%E4%B8%80%E8%8A%82/><div class=article-details><h2 class=article-title>å®éªŒå®¤ C++ åŸºç¡€è¯¾ç¨‹ Â· ç¬¬ä¸€ç« ç¬¬ä¸€èŠ‚</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=EvanWonghere/EvanWonghere.github.io data-repo-id=R_kgDOPzgwzg data-category=Announcements data-category-id=DIC_kwDOPzgwzs4Cvsti data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 EvanWong</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.31.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>